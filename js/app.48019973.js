(function(e){function t(t){for(var o,r,l=t[0],c=t[1],i=t[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,i||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},s=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-popover",{attrs:{placement:"bottom",title:"ajouter session",width:"200",trigger:"click"}},[n("el-input",{attrs:{placeholder:"start"},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}}),n("el-input",{attrs:{placeholder:"end"},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}}),n("el-input",{attrs:{placeholder:"cashout"},model:{value:e.cashout,callback:function(t){e.cashout=t},expression:"cashout"}}),n("el-input",{attrs:{placeholder:"date"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),n("el-input",{attrs:{placeholder:"comment"},on:{blur:function(t){return e.createSession(e.start,e.end,e.date,e.cashout,e.comment)}},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}}),n("el-button",{attrs:{slot:"reference",round:"",type:"success"},slot:"reference"},[e._v("Ajouter une session")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sessionsData.filter((function(t){return!e.search||t.start.includes(e.search)}))}},[n("el-table-column",{attrs:{label:"Début",prop:"start"}}),n("el-table-column",{attrs:{label:"Fin",prop:"end"}}),n("el-table-column",{attrs:{label:"Cashout",prop:"cashout"}}),n("el-table-column",{attrs:{label:"Date",prop:"date"}}),n("el-table-column",{attrs:{label:"Comment",prop:"comment"}}),n("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"bottom",title:"Edit session",width:"200",trigger:"click"}},[n("el-input",{attrs:{placeholder:"5000"},on:{blur:function(n){return e.updateSession(t.row.id,t.row.start,e.date)}},model:{value:t.row.start,callback:function(n){e.$set(t.row,"start",n)},expression:"scope.row.start"}})],1),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.deleteSession(t.row.id)}}},[e._v("Supprimer")])]}}])})],1)],1)},s=[],r=(n("fb6a"),n("159b"),n("2591")),l={apiKey:"AIzaSyCU1bDzeDekORBHQ6KSLPMtT7_wLuDuefQ",authDomain:"bankroll-manager-693dc.firebaseapp.com",projectId:"bankroll-manager-693dc",storageBucket:"bankroll-manager-693dc.appspot.com",messagingSenderId:"205508186484",appId:"1:205508186484:web:03db2129ad4ac86a41dc21"},c=r["a"].initializeApp(l),i=c.firestore(),u={data:function(){return{start:"",end:"",date:(new Date).toISOString().slice(0,10),cashout:"",comment:"",sessionsData:[],search:""}},methods:{createSession:function(e,t,n,o,a){var s=this;""!=o&&(i.collection("sessions").add({start:e,end:t,date:n,cashout:o,comment:a}).then((function(){console.log("Bien ajouté"),s.readSession()})).catch((function(e){console.log("Pas ajouté ",e)})),this.start="",this.end="",this.date="",this.cashout="",this.comment="")},readSession:function(){var e=this;this.sessionsData=[],i.collection("sessions").get().then((function(t){t.forEach((function(t){e.sessionsData.push({id:t.id,start:t.data().start,end:t.data().end,date:t.data().date,cashout:t.data().cashout,comment:t.data().comment}),console.log(t.id," => ",t.data())}))})).catch((function(e){console.log("impossible de récup les data ",e)}))},updateSession:function(e,t,n,o,a,s){var r=this;i.collection("sessions").doc(e).update({start:t,end:n,date:o,cashout:a,comment:s}).then((function(){console.log("Session bien modifiée"),r.readSession()})).catch((function(e){console.log("Oops ",e)}))},deleteSession:function(e){var t=this;i.collection("sessions").doc(e).delete().then((function(){console.log("Session supprimée"),t.readSession()})).catch((function(e){console.log("Oops delete: ",e)}))}},mounted:function(){this.readSession()}},d=u,p=n("2877"),f=Object(p["a"])(d,a,s,!1,null,null,null),h=f.exports,m=n("5c96"),b=n.n(m),g=(n("0fae"),n("8f86")),v=n.n(g);o["default"].use(b.a,{locale:v.a}),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(h)}}).$mount("#app")}});
//# sourceMappingURL=app.48019973.js.map